= nh-mvp
:toc:

== dev mode

=== building

(with a https://nixos.wiki/wiki/Flakes#Installing_flakes[Flakes] supporting https://nixos.org/download.html[`nix`] installed)

[source]
----
# enter dev shell (we need impure because Holonix is not pure ðŸ˜¢)
$ nix develop --impure
[<...>]$ npm install
[<...>]$ npm run hc:build
[<...>]$ npm run hc:pack
[<...>]$ npm run fe:build
----

=== running

[source]
----
# in dev shell
[<...>]$ npm run hc:run

# in another dev shell
[<...>]$ miniserve .
# any static server will work, e.g. any of these: https://gist.github.com/willurd/5720255

# in yet another dev shell
[<...>]$ xdg-open http://localhost:8080/index.html
# alternately, just go there in your browser
----

== deployment / production mode

(with a https://nixos.wiki/wiki/Flakes#Installing_flakes[Flakes] supporting https://nixos.org/download.html[`nix`] installed)

[source]
----
$ nix build .#frontend
----

=== refreshing deps

[source]
----
node2nix -l package-lock.json
----
